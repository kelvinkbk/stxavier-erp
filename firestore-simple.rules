// Simple Firestore Security Rules for Development
// Copy these rules to your Firebase Console -> Firestore Database -> Rules

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Simple rule: Authenticated users can read and write their own data
    // This solves the "Missing or insufficient permissions" error
    match /users/{userId} {
      allow read, write: if request.auth != null;
    }
    
    // Allow authenticated users to access all collections for now
    // This is for development/testing - you can make it more restrictive later
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}

// Instructions:
// 1. Go to Firebase Console (https://console.firebase.google.com/)
// 2. Select your project: stxavier-erp
// 3. Go to Firestore Database
// 4. Click on "Rules" tab
// 5. Replace the existing rules with the content above
// 6. Click "Publish"
// 
// This will immediately fix the "Missing or insufficient permissions" errors
// you're seeing in the logs.
